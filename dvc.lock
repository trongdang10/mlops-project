schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/mlProject/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: fe94cb9afdc9b9c99ec71d9e48f83e3e
      size: 1016
    - path: src/mlProject/components/data_ingestion.py
      hash: md5
      md5: 58713ba570e42c4000438e6731a21b3a
      size: 1207
    - path: src/mlProject/config/configuration.py
      hash: md5
      md5: 41171dc06eba31f3ed6d74824d185508
      size: 3595
    - path: src/mlProject/entity/config_entity.py
      hash: md5
      md5: 870090fbd5eb1336b0b45a106d7b5674
      size: 903
    - path: src/mlProject/utils/common.py
      hash: md5
      md5: d2cb33c84a4098a5435bc3ee57587327
      size: 2960
    params:
      config/config.yaml:
        data_ingestion.local_data_file: artifacts/data_ingestion/data.zip
        data_ingestion.root_dir: artifacts/data_ingestion
        data_ingestion.source_URL: https://github.com/trongdang10/used_data/raw/main/winequality-data.zip
        data_ingestion.unzip_dir: artifacts/data_ingestion
    outs:
    - path: artifacts/data_ingestion/data.zip
      hash: md5
      md5: 98e14459f9fb131cd9f83ecad4328d5d
      size: 23329
    - path: artifacts/data_ingestion/winequality-red.csv
      hash: md5
      md5: 6a883fd98624e18c0b7ce251f4fab4fb
      size: 100951
  data_validation:
    cmd: python src/mlProject/pipeline/stage_02_data_validation.py
    deps:
    - path: artifacts/data_ingestion/winequality-red.csv
      hash: md5
      md5: 6a883fd98624e18c0b7ce251f4fab4fb
      size: 100951
    - path: schema.yaml
      hash: md5
      md5: 4f468903278f2ec0b2ae9fc320f89490
      size: 339
    - path: src/mlProject/components/data_validation.py
      hash: md5
      md5: a3bfad6c56676c46144cd55d167bc349
      size: 1102
    - path: src/mlProject/pipeline/stage_02_data_validation.py
      hash: md5
      md5: 0d0c016948b85f8af46bda4ebe16e7e8
      size: 879
    params:
      config/config.yaml:
        data_validation.STATUS_FILE: artifacts/data_validation/status.txt
        data_validation.root_dir: artifacts/data_validation
        data_validation.unzip_data_dir: artifacts/data_ingestion/winequality-red.csv
      schema.yaml:
        COLUMNS:
          fixed acidity: float64
          volatile acidity: float64
          citric acid: float64
          residual sugar: float64
          chlorides: float64
          free sulfur dioxide: float64
          total sulfur dioxide: float64
          density: float64
          pH: float64
          sulphates: float64
          alcohol: float64
          quality: int64
    outs:
    - path: artifacts/data_validation/status.txt
      hash: md5
      md5: 86e6a2f694c57a675b3e2da6b95ff9ba
      size: 23
  data_transformation:
    cmd: python src/mlProject/pipeline/stage_03_data_transformation.py
    deps:
    - path: artifacts/data_ingestion/winequality-red.csv
      hash: md5
      md5: 6a883fd98624e18c0b7ce251f4fab4fb
      size: 100951
    - path: config/config.yaml
      hash: md5
      md5: fe94cb9afdc9b9c99ec71d9e48f83e3e
      size: 1016
    - path: src/mlProject/components/data_transformation.py
      hash: md5
      md5: 639a30c517caa1f73267b5d59e0fdf02
      size: 1168
    - path: src/mlProject/pipeline/stage_03_data_transformation.py
      hash: md5
      md5: f99dc96f8d75838e2134591b6553c54c
      size: 1318
    params:
      config/config.yaml:
        data_transformation.data_path: artifacts/data_ingestion/winequality-red.csv
        data_transformation.root_dir: artifacts/data_transformation
    outs:
    - path: artifacts/data_transformation/test.csv
      hash: md5
      md5: c8e1d67ad3451b9beb842a9d51c15846
      size: 23943
    - path: artifacts/data_transformation/train.csv
      hash: md5
      md5: 456e4456d28e8d9848057e599d7b587f
      size: 71289
  model_trainer:
    cmd: python src/mlProject/pipeline/stage_04_model_trainer.py
    deps:
    - path: artifacts/data_transformation/train.csv
      hash: md5
      md5: 456e4456d28e8d9848057e599d7b587f
      size: 71289
    - path: schema.yaml
      hash: md5
      md5: 4f468903278f2ec0b2ae9fc320f89490
      size: 339
    - path: src/mlProject/components/model_trainer.py
      hash: md5
      md5: 57eff832f2533bf7747ddd549587922c
      size: 936
    - path: src/mlProject/pipeline/stage_04_model_trainer.py
      hash: md5
      md5: 57d56b0c3c64cc1a68d57c23f42664be
      size: 854
    params:
      params.yaml:
        ElasticNet.alpha: 0.2
        ElasticNet.l1_ratio: 0.1
      config/config.yaml:
        model_trainer.model_name: model.joblib
        model_trainer.root_dir: artifacts/model_trainer
        model_trainer.test_data_path: artifacts/data_transformation/test.csv
        model_trainer.train_data_path: artifacts/data_transformation/train.csv
      schema.yaml:
        TARGET_COLUMN:
          name: quality
    outs:
    - path: artifacts/model_trainer/model.joblib
      hash: md5
      md5: fb0d5cc4b668a8c8c429ca2f2d3e4873
      size: 1279
  model_evaluation:
    cmd: python src/mlProject/pipeline/stage_05_model_evaluation.py
    deps:
    - path: artifacts/data_transformation/test.csv
      hash: md5
      md5: c8e1d67ad3451b9beb842a9d51c15846
      size: 23943
    - path: artifacts/model_trainer/model.joblib
      hash: md5
      md5: fb0d5cc4b668a8c8c429ca2f2d3e4873
      size: 1279
    - path: params.yaml
      hash: md5
      md5: 4607fbf987fdf2e49eb9747293a35307
      size: 42
    - path: schema.yaml
      hash: md5
      md5: 4f468903278f2ec0b2ae9fc320f89490
      size: 339
    - path: src/mlProject/components/model_evaluation.py
      hash: md5
      md5: 2d093890bb9b776c69cad81fb93e285c
      size: 2260
    - path: src/mlProject/pipeline/stage_05_model_evaluation.py
      hash: md5
      md5: f105b51d08de6d1dba0cc45ebf6bae51
      size: 1138
    params:
      params.yaml:
        ElasticNet.alpha: 0.2
        ElasticNet.l1_ratio: 0.1
      config/config.yaml:
        model_evaluation.metric_file_name: artifacts/model_evaluation/metrics.json
        model_evaluation.model_path: artifacts/model_trainer/model.joblib
        model_evaluation.root_dir: artifacts/model_evaluation
        model_evaluation.test_data_path: artifacts/data_transformation/test.csv
      schema.yaml:
        TARGET_COLUMN:
          name: quality
    outs:
    - path: artifacts/model_evaluation/metrics.json
      hash: md5
      md5: 3a643aeffb36344404c61a3930155db9
      size: 98
